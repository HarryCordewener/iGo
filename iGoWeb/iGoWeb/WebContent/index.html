<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>iGo</title>
<title>SOAP JavaScript Client Test</title>
<script type="text/javascript">
        function sayHello() {
            var xmlhttp = new XMLHttpRequest();
            var url = "	http://loki:8080/iGoWeb/HappyPathClientService?WSDL";
            xmlhttp.open('POST', url, true);

            // build SOAP request
            var sr =
                '<?xml version="1.0" encoding="utf-8"?>' +
                '<soapenv:Envelope ' + 
                    'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ' +
                    'xmlns:api="http://127.0.0.1/Integrics/Enswitch/API" ' +
                    'xmlns:xsd="http://www.w3.org/2001/XMLSchema" ' +
                    'xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">' +
                    '<soapenv:Body>' +
                        '<api:some_api_call soapenv:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">' +
                            '<username xsi:type="xsd:string">login_username</username>' +
                            '<password xsi:type="xsd:string">password</password>' +
                        '</api:some_api_call>' +
                    '</soapenv:Body>' +
                '</soapenv:Envelope>';
                
            var soapRequest = '<?xml version="1.0" encoding="UTF-8"?><S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"'+
            'xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/">'+
            '<SOAP-ENV:Header/>'+
            '<S:Body>'+
	        '<ns2:sayHello xmlns:ns2="http://local/"/>'+
    		'</S:Body>'+
			'</S:Envelope>';
			
			alert(soapRequest);

            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4) {
                    if (xmlhttp.status == 200) {

                        alert('done use firebug to see response');
                    }
                }
            }
            // Send the POST request
            //xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xmlhttp.setRequestHeader('Content-Type', 'text/xml');
            xmlhttp.send(soapRequest);
            // send request
            // ...
        }
    </script>
</head>
<body>
	<form name="Demo" action="" method="post">
		<div>
			<input type="button" value="Soap" onclick="sayHello();" />
		</div>
	</form>
</body>
<html>